openapi: 3.0.3
info:
  title: JW.org Meeting Content API
  description: |
    Automated API for Jehovah's Witnesses weekly meeting content. This API provides structured data for midweek and weekend meetings, including materials, sections, and media resources.
    
    ## Features
    - Weekly meeting content in JSON format
    - Multilingual support (currently Spanish)
    - Media resources (videos, images, audio, songs)
    - Meeting sections and time management
    - Historical data access
    - Real-time statistics
    
    ## Rate Limiting
    This API is hosted on GitHub Pages and has no explicit rate limiting, but please be respectful with your usage.
    
    ## CORS
    CORS is enabled for all origins to allow frontend applications to consume the API directly.
    
    ## Data Freshness
    Data is updated automatically through GitHub Actions workflows that scrape content from jw.org.
  version: "1.0.0"
  contact:
    name: JW Scraping API Support
    url: https://github.com/neri-gut/jw-scraping
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://github.com/neri-gut/jw-scraping/blob/main/README.md

servers:
  - url: https://neri-gut.github.io/jw-scraping
    description: Production API server (GitHub Pages)
  - url: http://localhost:3000
    description: Local development server

tags:
  - name: Weekly Data
    description: Access to weekly meeting content data
  - name: Statistics
    description: API usage and content statistics
  - name: Metadata
    description: API information and available endpoints

paths:
  /latest.json:
    get:
      tags:
        - Weekly Data
      summary: Get latest week data
      description: |
        Returns the most recent week's meeting content including both midweek and weekend meetings.
        This endpoint includes complete meeting details, materials, and metadata.
      operationId: getLatestWeek
      responses:
        '200':
          description: Latest week data retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/WeeklyMeeting'
                  - type: object
                    properties:
                      meta:
                        $ref: '#/components/schemas/EndpointMeta'
              examples:
                latest_week:
                  summary: Example latest week response
                  value:
                    id: "week-2025-31"
                    weekStartDate: "2025-07-28T06:00:00.000Z"
                    weekEndDate: "2025-08-03T06:00:00.000Z"
                    weekOf: "Semana del 28-28 jul"
                    year: 2025
                    weekNumber: 31
                    meetings:
                      - type: "midweek"
                        title: "Vida y Ministerio Cristiano"
                        date: "2025-08-02T00:33:37.595Z"
                        url: "https://www.jw.org/es/biblioteca/jw-cuaderno-de-reuniones/julio-agosto-2025-mwb/"
                        sections: []
                        materials:
                          videos: []
                          images: []
                          audio: []
                          songs: []
                        totalDuration: 0
                        scrapedAt: "2025-08-02T00:33:37.596Z"
                    stats:
                      totalSections: 0
                      totalMaterials: 12
                      totalDuration: 0
                    metadata:
                      generatedAt: "2025-08-02T00:33:37.601Z"
                      weekNumber: 31
                      year: 2025
                      filename: "week-31.json"
                      version: "1.0"
                      language: "es"
                    meta:
                      endpoint: "latest"
                      description: "Datos de la semana más reciente"
                      generatedAt: "2025-08-02T00:34:09.741Z"
                      totalWeeksAvailable: 1
                      version: "1.0"
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /weeks.json:
    get:
      tags:
        - Weekly Data
      summary: Get all available weeks
      description: |
        Returns a list of all available weeks with basic metadata. 
        Use this endpoint to discover available weeks and their data URLs.
      operationId: getAllWeeks
      responses:
        '200':
          description: List of available weeks retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  weeks:
                    type: array
                    items:
                      $ref: '#/components/schemas/WeekSummary'
                  meta:
                    allOf:
                      - $ref: '#/components/schemas/EndpointMeta'
                      - type: object
                        properties:
                          totalWeeks:
                            type: integer
                            description: Total number of available weeks
                          dateRange:
                            $ref: '#/components/schemas/DateRange'
              examples:
                weeks_list:
                  summary: Example weeks list response
                  value:
                    weeks:
                      - id: "week-2025-31"
                        weekOf: "Semana del 28-28 jul"
                        weekStartDate: "2025-07-28T06:00:00.000Z"
                        weekEndDate: "2025-08-03T06:00:00.000Z"
                        year: 2025
                        weekNumber: 31
                        meetingCount: 2
                        totalDuration: 0
                        totalMaterials: 12
                        dataUrl: "./data/2025/week-31.json"
                        lastUpdated: "2025-08-02T00:33:37.601Z"
                    meta:
                      endpoint: "weeks"
                      description: "Lista de todas las semanas disponibles"
                      generatedAt: "2025-08-02T00:34:09.741Z"
                      totalWeeks: 1
                      dateRange:
                        earliest: "2025-07-28T06:00:00.000Z"
                        latest: "2025-07-28T06:00:00.000Z"
                      version: "1.0"
        '500':
          $ref: '#/components/responses/InternalServerError'

  /stats.json:
    get:
      tags:
        - Statistics
      summary: Get API statistics
      description: |
        Returns comprehensive statistics about the API data including totals by type, 
        quality metrics, and data distribution.
      operationId: getStatistics
      responses:
        '200':
          description: Statistics retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiStatistics'
              examples:
                api_stats:
                  summary: Example API statistics
                  value:
                    overview:
                      totalWeeks: 1
                      totalMeetings: 2
                      totalSections: 0
                      totalMaterials: 12
                      totalDuration: 0
                    byMeetingType:
                      midweek:
                        count: 1
                        avgDuration: 0
                        materials: 0
                      weekend:
                        count: 1
                        avgDuration: 0
                        materials: 0
                    byMaterialType:
                      videos: 0
                      images: 12
                      audio: 0
                      songs: 0
                    byYear:
                      "2025":
                        weeks: 1
                        meetings: 2
                        materials: 12
                    dateRange:
                      earliest: "2025-07-28T06:00:00.000Z"
                      latest: "2025-07-28T06:00:00.000Z"
                    quality:
                      weeksWithErrors: 0
                      avgMaterialsPerWeek: 12
                      avgSectionsPerMeeting: 0
                    meta:
                      generatedAt: "2025-08-02T00:34:09.742Z"
                      dataVersion: "1.0"
        '500':
          $ref: '#/components/responses/InternalServerError'

  /index.json:
    get:
      tags:
        - Metadata
      summary: Get API metadata and endpoints
      description: |
        Returns API metadata including version information, available endpoints, 
        usage examples, and general statistics.
      operationId: getApiMetadata
      responses:
        '200':
          description: API metadata retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiMetadata'
              examples:
                api_metadata:
                  summary: Example API metadata
                  value:
                    api:
                      name: "JW.org Meeting Content API"
                      description: "API automatizada para contenido semanal de reuniones de Testigos de Jehová"
                      version: "1.0"
                      generatedAt: "2025-08-02T00:34:09.742Z"
                      language: "es"
                      baseUrl: "https://neri-gut.github.io/jw-scraping"
                    endpoints:
                      latest:
                        url: "./latest.json"
                        description: "Datos de la semana más reciente"
                        cache: "1 hour"
                      weeks:
                        url: "./weeks.json"
                        description: "Lista de todas las semanas disponibles"
                        cache: "6 hours"
                      weekData:
                        url: "./data/{year}/week-{weekNumber}.json"
                        description: "Datos específicos de una semana"
                        parameters:
                          year: "2025"
                          weekNumber: "01-53 (con ceros a la izquierda)"
                        cache: "24 hours"
                      stats:
                        url: "./stats.json"
                        description: "Estadísticas generales de la API"
                        cache: "24 hours"
                    usage:
                      examples:
                        - description: "Obtener la semana más reciente"
                          url: "./latest.json"
                        - description: "Obtener lista de semanas"
                          url: "./weeks.json"
                        - description: "Obtener semana específica"
                          url: "./data/2025/week-03.json"
                      cors: "enabled"
                      rateLimit: "none"
                      authentication: "none"
        '500':
          $ref: '#/components/responses/InternalServerError'

  /data/{year}/week-{weekNumber}.json:
    get:
      tags:
        - Weekly Data
      summary: Get specific week data
      description: |
        Returns detailed meeting content for a specific week identified by year and week number.
        Week numbers should be zero-padded (01-53).
      operationId: getWeekData
      parameters:
        - name: year
          in: path
          required: true
          description: Year of the desired week (e.g., 2025)
          schema:
            type: integer
            minimum: 2020
            maximum: 2030
            example: 2025
        - name: weekNumber
          in: path
          required: true
          description: Week number with zero padding (01-53)
          schema:
            type: string
            pattern: '^(0[1-9]|[1-4][0-9]|5[0-3])$'
            example: "31"
      responses:
        '200':
          description: Week data retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WeeklyMeeting'
              examples:
                specific_week:
                  summary: Example week data response
                  value:
                    id: "week-2025-31"
                    weekStartDate: "2025-07-28T06:00:00.000Z"
                    weekEndDate: "2025-08-03T06:00:00.000Z"
                    weekOf: "Semana del 28-28 jul"
                    year: 2025
                    weekNumber: 31
                    meetings:
                      - type: "midweek"
                        title: "Vida y Ministerio Cristiano"
                        date: "2025-08-02T00:33:37.595Z"
                        sections: []
                        materials:
                          videos: []
                          images: []
                          audio: []
                          songs: []
                        totalDuration: 0
                    stats:
                      totalSections: 0
                      totalMaterials: 12
                      totalDuration: 0
                    metadata:
                      generatedAt: "2025-08-02T00:33:37.601Z"
                      weekNumber: 31
                      year: 2025
                      version: "1.0"
                      language: "es"
        '404':
          $ref: '#/components/responses/NotFound'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/InternalServerError'

components:
  schemas:
    WeeklyMeeting:
      type: object
      description: Complete weekly meeting data structure
      required:
        - id
        - weekStartDate
        - weekEndDate
        - weekOf
        - year
        - weekNumber
        - meetings
        - stats
        - metadata
      properties:
        id:
          type: string
          description: Unique identifier for the week
          pattern: '^week-\d{4}-\d{2}$'
          example: "week-2025-31"
        weekStartDate:
          type: string
          format: date-time
          description: Start date of the week in ISO 8601 format
          example: "2025-07-28T06:00:00.000Z"
        weekEndDate:
          type: string
          format: date-time
          description: End date of the week in ISO 8601 format
          example: "2025-08-03T06:00:00.000Z"
        weekOf:
          type: string
          description: Human-readable week description
          example: "Semana del 28-28 jul"
        year:
          type: integer
          description: Year of the week
          minimum: 2020
          maximum: 2030
          example: 2025
        weekNumber:
          type: integer
          description: Week number within the year (1-53)
          minimum: 1
          maximum: 53
          example: 31
        meetings:
          type: array
          description: Array of meetings for the week
          items:
            $ref: '#/components/schemas/Meeting'
        urls:
          $ref: '#/components/schemas/SourceUrls'
        stats:
          $ref: '#/components/schemas/WeekStats'
        metadata:
          $ref: '#/components/schemas/WeekMetadata'

    Meeting:
      type: object
      description: Individual meeting data (midweek or weekend)
      required:
        - type
        - title
        - date
        - url
        - sections
        - materials
        - totalDuration
        - scrapedAt
      properties:
        type:
          type: string
          enum: [midweek, weekend]
          description: Type of meeting
          example: "midweek"
        title:
          type: string
          description: Meeting title
          example: "Vida y Ministerio Cristiano"
        date:
          type: string
          format: date-time
          description: Meeting date in ISO 8601 format
          example: "2025-08-02T00:33:37.595Z"
        url:
          type: string
          format: uri
          description: Source URL for the meeting content
          example: "https://www.jw.org/es/biblioteca/jw-cuaderno-de-reuniones/julio-agosto-2025-mwb/"
        sections:
          type: array
          description: Meeting sections/parts
          items:
            $ref: '#/components/schemas/MeetingSection'
        materials:
          $ref: '#/components/schemas/MeetingMaterials'
        totalDuration:
          type: integer
          description: Total meeting duration in minutes
          minimum: 0
          example: 105
        scrapedAt:
          type: string
          format: date-time
          description: When this data was scraped
          example: "2025-08-02T00:33:37.596Z"

    MeetingSection:
      type: object
      description: Individual section within a meeting
      required:
        - id
        - title
        - duration
        - type
      properties:
        id:
          type: string
          description: Unique section identifier
          example: "section-1"
        title:
          type: string
          description: Section title
          example: "Canción y oración"
        duration:
          type: integer
          description: Section duration in minutes
          minimum: 0
          example: 5
        type:
          type: string
          description: Section type or category
          example: "opening"
        description:
          type: string
          description: Optional section description
        materials:
          type: array
          description: Materials specific to this section
          items:
            $ref: '#/components/schemas/MediaFile'
        order:
          type: integer
          description: Order within the meeting
          minimum: 1
          example: 1

    MeetingMaterials:
      type: object
      description: All materials associated with a meeting
      required:
        - videos
        - images
        - audio
        - songs
      properties:
        videos:
          type: array
          description: Video materials
          items:
            $ref: '#/components/schemas/VideoFile'
        images:
          type: array
          description: Image materials
          items:
            $ref: '#/components/schemas/ImageFile'
        audio:
          type: array
          description: Audio materials
          items:
            $ref: '#/components/schemas/AudioFile'
        songs:
          type: array
          description: Song materials
          items:
            $ref: '#/components/schemas/SongFile'

    MediaFile:
      type: object
      description: Base media file structure
      discriminator:
        propertyName: format
      required:
        - id
        - title
        - downloadUrl
        - format
      properties:
        id:
          type: string
          description: Unique media file identifier
          example: "image-1"
        title:
          type: string
          description: Media file title or description
          example: "Imagen 1"
        downloadUrl:
          type: string
          format: uri
          description: Direct download URL
          example: "https://cms-imgp.jw-cdn.org/img/p/1011486/univ/art/1011486_univ_sqs_lg.jpg"
        format:
          type: string
          description: File format/type
          example: "jpg"
        fileSize:
          type: integer
          description: File size in bytes
          minimum: 0
        duration:
          type: integer
          description: Duration in seconds (for video/audio)
          minimum: 0

    VideoFile:
      allOf:
        - $ref: '#/components/schemas/MediaFile'
        - type: object
          properties:
            format:
              type: string
              enum: [mp4, webm, avi, mov]
              example: "mp4"
            resolution:
              type: string
              description: Video resolution
              example: "1920x1080"
            subtitles:
              type: array
              description: Available subtitle languages
              items:
                type: string
                example: "es"

    ImageFile:
      allOf:
        - $ref: '#/components/schemas/MediaFile'
        - type: object
          properties:
            format:
              type: string
              enum: [jpg, jpeg, png, gif, webp]
              example: "jpg"
            sizes:
              type: object
              description: Different image sizes available
              properties:
                large:
                  type: string
                  format: uri
                  example: "https://cms-imgp.jw-cdn.org/img/p/1011486/univ/art/1011486_univ_sqs_lg.jpg"
                medium:
                  type: string
                  format: uri
                  example: "https://cms-imgp.jw-cdn.org/img/p/1011486/univ/art/1011486_univ_sqs_md.jpg"
                small:
                  type: string
                  format: uri
                  example: "https://cms-imgp.jw-cdn.org/img/p/1011486/univ/art/1011486_univ_sqs_sm.jpg"
            dimensions:
              type: object
              properties:
                width:
                  type: integer
                  minimum: 1
                height:
                  type: integer
                  minimum: 1

    AudioFile:
      allOf:
        - $ref: '#/components/schemas/MediaFile'
        - type: object
          properties:
            format:
              type: string
              enum: [mp3, wav, aac, ogg]
              example: "mp3"
            bitrate:
              type: integer
              description: Audio bitrate in kbps
              example: 128

    SongFile:
      allOf:
        - $ref: '#/components/schemas/AudioFile'
        - type: object
          properties:
            songNumber:
              type: integer
              description: JW song number
              minimum: 1
              maximum: 200
              example: 1
            lyrics:
              type: string
              description: Song lyrics
            sheet_music:
              type: string
              format: uri
              description: URL to sheet music PDF

    WeekSummary:
      type: object
      description: Summary information for a week
      required:
        - id
        - weekOf
        - weekStartDate
        - weekEndDate
        - year
        - weekNumber
        - meetingCount
        - totalDuration
        - totalMaterials
        - dataUrl
        - lastUpdated
      properties:
        id:
          type: string
          description: Unique week identifier
          example: "week-2025-31"
        weekOf:
          type: string
          description: Human-readable week description
          example: "Semana del 28-28 jul"
        weekStartDate:
          type: string
          format: date-time
          description: Week start date
          example: "2025-07-28T06:00:00.000Z"
        weekEndDate:
          type: string
          format: date-time
          description: Week end date
          example: "2025-08-03T06:00:00.000Z"
        year:
          type: integer
          description: Year
          example: 2025
        weekNumber:
          type: integer
          description: Week number
          example: 31
        meetingCount:
          type: integer
          description: Number of meetings in the week
          minimum: 0
          example: 2
        totalDuration:
          type: integer
          description: Total duration of all meetings in minutes
          minimum: 0
          example: 210
        totalMaterials:
          type: integer
          description: Total number of materials
          minimum: 0
          example: 12
        dataUrl:
          type: string
          description: Relative URL to detailed week data
          example: "./data/2025/week-31.json"
        lastUpdated:
          type: string
          format: date-time
          description: When this week was last updated
          example: "2025-08-02T00:33:37.601Z"

    WeekStats:
      type: object
      description: Statistics for a specific week
      required:
        - totalSections
        - totalMaterials
        - totalDuration
      properties:
        totalSections:
          type: integer
          description: Total number of meeting sections
          minimum: 0
          example: 8
        totalMaterials:
          type: integer
          description: Total number of materials
          minimum: 0
          example: 12
        totalDuration:
          type: integer
          description: Total duration in minutes
          minimum: 0
          example: 210

    WeekMetadata:
      type: object
      description: Metadata for a specific week
      required:
        - generatedAt
        - weekNumber
        - year
        - version
        - language
      properties:
        generatedAt:
          type: string
          format: date-time
          description: When this data was generated
          example: "2025-08-02T00:33:37.601Z"
        weekNumber:
          type: integer
          description: Week number
          example: 31
        year:
          type: integer
          description: Year
          example: 2025
        filename:
          type: string
          description: Original filename
          example: "week-31.json"
        version:
          type: string
          description: Data format version
          example: "1.0"
        language:
          type: string
          description: Content language
          example: "es"

    SourceUrls:
      type: object
      description: Source URLs for the week's content
      properties:
        midweek:
          type: string
          format: uri
          description: Midweek meeting source URL
          example: "https://www.jw.org/es/biblioteca/jw-cuaderno-de-reuniones/julio-agosto-2025-mwb/"
        weekend:
          type: string
          format: uri
          description: Weekend meeting source URL
          example: "https://www.jw.org/es/biblioteca/watchtower/atalaya-estudio-julio-2025/"
        workbook:
          type: string
          format: uri
          description: Workbook URL
          example: "https://www.jw.org/es/biblioteca/jw-cuaderno-de-reuniones/2025/"
        meetings:
          type: string
          format: uri
          description: General meetings URL
          example: "https://www.jw.org/es/reuniones/"

    ApiStatistics:
      type: object
      description: Comprehensive API statistics
      required:
        - overview
        - byMeetingType
        - byMaterialType
        - byYear
        - dateRange
        - quality
        - meta
      properties:
        overview:
          type: object
          description: High-level statistics overview
          required:
            - totalWeeks
            - totalMeetings
            - totalSections
            - totalMaterials
            - totalDuration
          properties:
            totalWeeks:
              type: integer
              minimum: 0
              example: 52
            totalMeetings:
              type: integer
              minimum: 0
              example: 104
            totalSections:
              type: integer
              minimum: 0
              example: 832
            totalMaterials:
              type: integer
              minimum: 0
              example: 1248
            totalDuration:
              type: integer
              minimum: 0
              example: 10920
        byMeetingType:
          type: object
          description: Statistics broken down by meeting type
          properties:
            midweek:
              $ref: '#/components/schemas/MeetingTypeStats'
            weekend:
              $ref: '#/components/schemas/MeetingTypeStats'
        byMaterialType:
          type: object
          description: Statistics by material type
          required:
            - videos
            - images
            - audio
            - songs
          properties:
            videos:
              type: integer
              minimum: 0
              example: 156
            images:
              type: integer
              minimum: 0
              example: 624
            audio:
              type: integer
              minimum: 0
              example: 312
            songs:
              type: integer
              minimum: 0
              example: 156
        byYear:
          type: object
          description: Statistics by year
          additionalProperties:
            $ref: '#/components/schemas/YearStats'
        dateRange:
          $ref: '#/components/schemas/DateRange'
        quality:
          type: object
          description: Data quality metrics
          required:
            - weeksWithErrors
            - avgMaterialsPerWeek
            - avgSectionsPerMeeting
          properties:
            weeksWithErrors:
              type: integer
              minimum: 0
              description: Number of weeks with scraping errors
              example: 0
            avgMaterialsPerWeek:
              type: number
              minimum: 0
              description: Average materials per week
              example: 12.5
            avgSectionsPerMeeting:
              type: number
              minimum: 0
              description: Average sections per meeting
              example: 4.2
        meta:
          type: object
          required:
            - generatedAt
            - dataVersion
          properties:
            generatedAt:
              type: string
              format: date-time
              example: "2025-08-02T00:34:09.742Z"
            dataVersion:
              type: string
              example: "1.0"

    MeetingTypeStats:
      type: object
      description: Statistics for a specific meeting type
      required:
        - count
        - avgDuration
        - materials
      properties:
        count:
          type: integer
          minimum: 0
          description: Number of meetings of this type
          example: 52
        avgDuration:
          type: number
          minimum: 0
          description: Average duration in minutes
          example: 105.5
        materials:
          type: integer
          minimum: 0
          description: Total materials for this meeting type
          example: 624

    YearStats:
      type: object
      description: Statistics for a specific year
      required:
        - weeks
        - meetings
        - materials
      properties:
        weeks:
          type: integer
          minimum: 0
          example: 52
        meetings:
          type: integer
          minimum: 0
          example: 104
        materials:
          type: integer
          minimum: 0
          example: 1248

    DateRange:
      type: object
      description: Date range information
      required:
        - earliest
        - latest
      properties:
        earliest:
          type: string
          format: date-time
          description: Earliest date in the dataset
          example: "2025-01-06T06:00:00.000Z"
        latest:
          type: string
          format: date-time
          description: Latest date in the dataset
          example: "2025-12-29T06:00:00.000Z"

    ApiMetadata:
      type: object
      description: Complete API metadata and information
      required:
        - api
        - endpoints
        - stats
        - usage
      properties:
        api:
          type: object
          description: Basic API information
          required:
            - name
            - description
            - version
            - generatedAt
            - language
            - baseUrl
          properties:
            name:
              type: string
              example: "JW.org Meeting Content API"
            description:
              type: string
              example: "API automatizada para contenido semanal de reuniones de Testigos de Jehová"
            version:
              type: string
              example: "1.0"
            generatedAt:
              type: string
              format: date-time
              example: "2025-08-02T00:34:09.742Z"
            language:
              type: string
              example: "es"
            baseUrl:
              type: string
              format: uri
              example: "https://neri-gut.github.io/jw-scraping"
        endpoints:
          type: object
          description: Available API endpoints
          properties:
            latest:
              $ref: '#/components/schemas/EndpointInfo'
            weeks:
              $ref: '#/components/schemas/EndpointInfo'
            weekData:
              allOf:
                - $ref: '#/components/schemas/EndpointInfo'
                - type: object
                  properties:
                    parameters:
                      type: object
                      description: Endpoint parameters
            stats:
              $ref: '#/components/schemas/EndpointInfo'
        stats:
          type: object
          description: Quick stats summary
          required:
            - totalWeeks
            - totalMeetings
            - totalMaterials
            - averageDuration
            - lastUpdate
          properties:
            totalWeeks:
              type: integer
              minimum: 0
              example: 52
            totalMeetings:
              type: integer
              minimum: 0
              example: 104
            totalMaterials:
              type: integer
              minimum: 0
              example: 1248
            averageDuration:
              type: number
              minimum: 0
              example: 105.5
            lastUpdate:
              type: string
              format: date-time
              example: "2025-08-02T00:33:37.601Z"
        usage:
          type: object
          description: Usage information and examples
          required:
            - examples
            - cors
            - rateLimit
            - authentication
          properties:
            examples:
              type: array
              description: Usage examples
              items:
                type: object
                required:
                  - description
                  - url
                properties:
                  description:
                    type: string
                    example: "Obtener la semana más reciente"
                  url:
                    type: string
                    example: "./latest.json"
            cors:
              type: string
              enum: [enabled, disabled]
              example: "enabled"
            rateLimit:
              type: string
              example: "none"
            authentication:
              type: string
              example: "none"

    EndpointInfo:
      type: object
      description: Information about a specific endpoint
      required:
        - url
        - description
        - cache
      properties:
        url:
          type: string
          description: Endpoint URL
          example: "./latest.json"
        description:
          type: string
          description: Endpoint description
          example: "Datos de la semana más reciente"
        cache:
          type: string
          description: Cache duration
          example: "1 hour"

    EndpointMeta:
      type: object
      description: Metadata included in endpoint responses
      required:
        - endpoint
        - description
        - generatedAt
        - version
      properties:
        endpoint:
          type: string
          description: Endpoint name
          example: "latest"
        description:
          type: string
          description: Endpoint description
          example: "Datos de la semana más reciente"
        generatedAt:
          type: string
          format: date-time
          description: When the response was generated
          example: "2025-08-02T00:34:09.741Z"
        version:
          type: string
          description: API version
          example: "1.0"

    Error:
      type: object
      description: Standard error response
      required:
        - error
        - message
        - timestamp
      properties:
        error:
          type: string
          description: Error type
          example: "NotFound"
        message:
          type: string
          description: Human-readable error message
          example: "The requested week data was not found"
        timestamp:
          type: string
          format: date-time
          description: When the error occurred
          example: "2025-08-02T00:34:09.741Z"
        details:
          type: string
          description: Additional error details
        path:
          type: string
          description: Request path that caused the error
          example: "/data/2025/week-99.json"

  responses:
    NotFound:
      description: The requested resource was not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            week_not_found:
              summary: Week data not found
              value:
                error: "NotFound"
                message: "The requested week data was not found"
                timestamp: "2025-08-02T00:34:09.741Z"
                path: "/data/2025/week-99.json"

    BadRequest:
      description: Invalid request parameters
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            invalid_week_number:
              summary: Invalid week number format
              value:
                error: "BadRequest"
                message: "Week number must be zero-padded (01-53)"
                timestamp: "2025-08-02T00:34:09.741Z"
                details: "Received: '1', Expected: '01'"
                path: "/data/2025/week-1.json"

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            server_error:
              summary: Internal server error
              value:
                error: "InternalServerError"
                message: "An unexpected error occurred while processing your request"
                timestamp: "2025-08-02T00:34:09.741Z"

  securitySchemes: {}

security: []

externalDocs:
  description: GitHub Repository and Documentation
  url: https://github.com/neri-gut/jw-scraping